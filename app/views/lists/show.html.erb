<div class="show-container">
  <div class="show-list-container">
    <div class="card main-card-rounded w-100" style="border-style: none">

      <div class="card-body">

        <!--TOP MENU NAVBAR-->
        <div class="row mb-3 mt-3">
          <div class="col-2 center-icon px-1 pt-1">
            <%= link_to lists_path do %><i class="fa-solid fa-circle-chevron-left fa-xl" style="color: #7c5bae;"></i><% end %>
          </div>
          <div class="col-7 pt-1">
            <h1 style='text-align: center; font-size: 18px;'><strong> <%= @list.name %>! </strong></h1>
          </div>
          <div class= 'd-flex flex-row-reverse'>
          <!--ADD GUEST OR SHARE LIST-->
            <%=render 'shared/search_user' %>
              <!--ADD A NEW PRODUCT-->
            <%=render 'shared/search_products' %>
            <div class="col-2 center-icon px-1 pt-1">
              <%= link_to edit_list_path do %>
                <i class="fa-solid fa-pen-to-square" style="color: #7c5bae;"></i>
              <% end %>
            </div>

          </div>

        <!--BUDGET SECTION AND LIST CREATION DATE-->
        <div class="row mb-3 mt-5">
          <div class="col-12" style="text-align: center">
            <p style="font-size: 10px">Created at <%= @list.created_at.strftime("%B %d, %Y %H:%M") %></p>
            <h2 style="font-size: 15px">Total budget</h2>
            <h1 style="font-size: 30px"><strong>$<%= @list.budget %></strong><h1>
          </div>
        </div>

        <!--BUDGET SPENDING PROGRESS BAR-->
        <div class="row m-3">
          <div class="col-12 card budget-card-bg">
            <div class="row">
              <div class="col-6"><p id="titles">Left to spend</p></div>
              <div class="col-6"><p id="titles">Budget spent</p></div>
            </div>
            <div class="row">
              <div class="col-6"><p id="amounts">$500,000</p></div>
              <div class="col-6"><p id="amounts">$500,000</p></div>
            </div>
            <div class="row">
              <div class="col-12 mb-4">
                <div class="progress" style="">
                  <div class="progress-bar" role="progressbar" style="width: 15%" aria-valuenow="15" aria-valuemin="0" aria-valuemax="100"></div>
                  <div class="progress-bar bg-success" role="progressbar" style="width: 30%" aria-valuenow="30" aria-valuemin="0" aria-valuemax="100"></div>
                  <div class="progress-bar bg-info" role="progressbar" style="width: 20%" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100"></div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!--PRODUCT LIST SECTION-->
        <div class="row m-3">
          <% if @list.products.empty? %>
          <div class="col-12 card budget-card-bg">
            <div style="text-align: center" class="my-3">
              <img src="<%=image_url("empty_list.png")%>" alt="No products yet" style="width: 225px; height: 225px" class="no-item-center-image"/>
              <h1><strong>Empty List</strong></h1>
              <p style="font-size: 15px" class="px-3">Your shopping list is currently empty. Feel free to add products to your list.</p>
            </div>
          </div>
          <% else %>
            <% @list.products.each do |product| %>
              <div class="col-12 card budget-card-bg">
                <div class="row g-0 m-3">
                  <div class="col-2"><input class="form-check-input me-1" type="checkbox" value=""></div>
                  <div class="col-8" style="text-align: left"><%= product.name %></div>
                  <div class="col-2" style="text-align: right"><%= link_to edit_list_product_path(@list, product) do %><i class="fa-solid fa-ellipsis fa-xl" style="color: #7c5bae"></i><% end %></div>
                  </div>
                </div>
              <% end %>
          <% end %>
          </div>
          <%= link_to 'View Reviews', list_reviews_path(@list),  class:"violet-button mt-3"%>
        </div>

      </div>

    </div>
  </div>
</div>
